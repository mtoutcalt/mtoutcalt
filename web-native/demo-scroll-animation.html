<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modern CSS Demos</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: system-ui, -apple-system, sans-serif;
            line-height: 1.6;
            color: #333;
        }

        /* Progress Bar Demo */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 0%;
            height: 4px;
            background: linear-gradient(to right, #667eea, #764ba2);
            z-index: 1000;
            animation: grow-progress linear;
            animation-timeline: scroll(root);
        }

        @keyframes grow-progress {
            to { width: 100%; }
        }

        /* Header */
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 20px;
            text-align: center;
        }

        header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 40px 20px;
        }

        /* Section styling */
        section {
            margin-bottom: 80px;
        }

        section h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #667eea;
        }

        .description {
            background: #f7f7f7;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 30px;
        }

        /* Masonry Layout Demo */
        .masonry-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 10px;
        }

        /* Fallback for browsers without masonry */
        @supports not (grid-template-rows: masonry) {
            .masonry-container {
                grid-auto-rows: 8px;
            }
            
            .masonry-item {
                grid-row: span var(--row-span);
            }
        }

        /* For browsers with masonry support */
        @supports (grid-template-rows: masonry) {
            .masonry-container {
                grid-template-rows: masonry;
            }
        }

        .masonry-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 8px;
            padding: 20px;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        /* Anchor Positioning Demo */
        .anchor-demo {
            padding: 100px 0;
            text-align: center;
            position: relative;
        }

        .anchor-button {
            anchor-name: --my-button;
            padding: 15px 30px;
            font-size: 1.1em;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .anchor-button:hover {
            transform: scale(1.05);
        }

        .tooltip {
            position: absolute;
            background: #333;
            color: white;
            padding: 10px 15px;
            border-radius: 6px;
            font-size: 0.9em;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s;
        }

        /* Fallback positioning since anchor positioning has limited support */
        .anchor-button:hover + .tooltip {
            opacity: 1;
        }

        .tooltip {
            top: -50px;
            left: 50%;
            transform: translateX(-50%);
        }

        .tooltip::after {
            content: '';
            position: absolute;
            bottom: -8px;
            left: 50%;
            transform: translateX(-50%);
            border: 8px solid transparent;
            border-top-color: #333;
        }

        /* Scroll-driven Animation Demo */
        .scroll-reveal {
            opacity: 0;
            transform: translateY(50px);
            animation: fade-in-up linear;
            animation-timeline: view();
            animation-range: entry 0% cover 30%;
        }

        @keyframes fade-in-up {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Parallax card effect */
        .parallax-card {
            position: relative;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 60px 40px;
            border-radius: 12px;
            margin: 60px 0;
            animation: parallax-float linear;
            animation-timeline: view();
        }

        @keyframes parallax-float {
            from {
                transform: translateY(100px) scale(0.9);
                opacity: 0;
            }
            to {
                transform: translateY(-20px) scale(1);
                opacity: 1;
            }
        }

        /* Scale on scroll effect */
        .scale-reveal {
            transform: scale(0.8);
            opacity: 0;
            animation: scale-in linear;
            animation-timeline: view();
            animation-range: entry 0% cover 40%;
        }

        @keyframes scale-in {
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        /* Staggered slide effect */
        .slide-group {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .slide-item {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 30px 20px;
            border-radius: 8px;
            text-align: center;
            transform: translateX(-100px);
            opacity: 0;
            animation: slide-in-left linear;
            animation-timeline: view();
            animation-range: entry 0% cover 25%;
        }

        .slide-item:nth-child(2) {
            animation-delay: 0.1s;
        }

        .slide-item:nth-child(3) {
            animation-delay: 0.2s;
        }

        @keyframes slide-in-left {
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        /* Rotating card effect */
        .rotate-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 12px;
            margin: 40px 0;
            transform: rotateY(-90deg);
            opacity: 0;
            animation: rotate-in linear;
            animation-timeline: view();
            animation-range: entry 0% cover 35%;
        }

        @keyframes rotate-in {
            to {
                transform: rotateY(0deg);
                opacity: 1;
            }
        }

        .reveal-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            border-radius: 8px;
            margin: 40px 0;
            font-size: 1.2em;
            text-align: center;
        }

        /* Spacer for scrolling */
        .spacer {
            height: 100vh;
        }

        .note {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
        }

        .support-info {
            background: #e7f3ff;
            border-left: 4px solid #2196F3;
            padding: 15px;
            margin: 20px 0;
            border-radius: 4px;
            font-size: 0.9em;
        }
    </style>
</head>
<body>
    <div class="progress-bar"></div>

    <header>
        <h1>Modern CSS Features</h1>
        <p>No JavaScript Required!</p>
    </header>

    <div class="container">
        <!-- Scroll Progress Bar -->
        <section>
            <h2>1. Scroll-Driven Progress Bar</h2>
            <div class="description">
                <p>Notice the colored bar at the top of the page? It fills up as you scroll down, created entirely with CSS using <code>animation-timeline: scroll()</code>. No JavaScript scroll listeners needed!</p>
            </div>
            <div class="support-info">
                <strong>Browser Support:</strong> Works in Chrome/Edge 115+, Safari 17.5+. Limited support in Firefox.
            </div>
        </section>

        <!-- Masonry Layout -->
        <section>
            <h2>2. Masonry Layout</h2>
            <div class="description">
                <p>A Pinterest-style grid where items of different heights pack efficiently. Using <code>grid-template-rows: masonry</code>.</p>
            </div>
            <div class="support-info">
                <strong>Browser Support:</strong> Currently only in Firefox with flag. This demo shows a grid fallback that works everywhere.
            </div>
            
            <div class="masonry-container">
                <div class="masonry-item" style="--row-span: 6;">
                    <h3>Card 1</h3>
                    <p>This is a shorter card.</p>
                </div>
                <div class="masonry-item" style="--row-span: 12;">
                    <h3>Card 2</h3>
                    <p>This card has more content, making it taller. The masonry layout automatically positions it to create an efficient grid without gaps.</p>
                </div>
                <div class="masonry-item" style="--row-span: 8;">
                    <h3>Card 3</h3>
                    <p>Medium-sized card with some text content here.</p>
                </div>
                <div class="masonry-item" style="--row-span: 10;">
                    <h3>Card 4</h3>
                    <p>Another card with different height. In a true masonry layout, these would pack together perfectly.</p>
                </div>
                <div class="masonry-item" style="--row-span: 7;">
                    <h3>Card 5</h3>
                    <p>Short and sweet!</p>
                </div>
                <div class="masonry-item" style="--row-span: 11;">
                    <h3>Card 6</h3>
                    <p>This one is a bit taller. Masonry layout ensures no wasted vertical space by fitting items efficiently.</p>
                </div>
                <div class="masonry-item" style="--row-span: 9;">
                    <h3>Card 7</h3>
                    <p>Medium height card demonstrating the layout.</p>
                </div>
                <div class="masonry-item" style="--row-span: 6;">
                    <h3>Card 8</h3>
                    <p>Compact card.</p>
                </div>
            </div>
        </section>

        <!-- Anchor Positioning -->
        <section>
            <h2>3. Anchor Positioning</h2>
            <div class="description">
                <p>Hover over the button below to see a tooltip. With CSS Anchor Positioning API, the tooltip positions itself relative to the button automatically.</p>
            </div>
            <div class="support-info">
                <strong>Browser Support:</strong> Chrome/Edge 125+. This demo uses a fallback that works in all browsers.
            </div>
            
            <div class="anchor-demo">
                <button class="anchor-button">Hover over me!</button>
                <div class="tooltip">I'm positioned relative to the button!</div>
            </div>
        </section>

        <!-- Scroll-driven Animations -->
        <section>
            <h2>4. Scroll-Driven Animations</h2>
            <div class="description">
                <p>Scroll down to see different animation effects commonly used on modern websites. All powered by <code>animation-timeline: view()</code>.</p>
            </div>
            <div class="support-info">
                <strong>Browser Support:</strong> Chrome/Edge 115+, Safari 17.5+. Limited support in Firefox.
            </div>

            <div class="scroll-reveal reveal-box">
                <strong>Classic Fade & Slide Up</strong><br>
                The traditional scroll reveal effect
            </div>

            <div class="parallax-card">
                <h3>Parallax Float Effect</h3>
                <p>This card floats upward with a parallax effect as you scroll, creating depth. Commonly seen on Apple and luxury brand websites.</p>
            </div>

            <div class="scale-reveal reveal-box">
                <strong>Scale & Fade In</strong><br>
                Elements grow into view, popular on product showcase sites
            </div>

            <div class="slide-group">
                <div class="slide-item">
                    <h4>Feature 1</h4>
                    <p>Slides in from left</p>
                </div>
                <div class="slide-item">
                    <h4>Feature 2</h4>
                    <p>With stagger delay</p>
                </div>
                <div class="slide-item">
                    <h4>Feature 3</h4>
                    <p>Creates rhythm</p>
                </div>
            </div>

            <div class="rotate-card">
                <h3>3D Rotate Reveal</h3>
                <p>This card rotates in 3D space as it enters the viewport. Popular on tech and portfolio sites for that "wow" factor.</p>
            </div>

            <div class="scroll-reveal reveal-box">
                <strong>All Without JavaScript!</strong><br>
                These effects used to require scroll event listeners and complex timing logic
            </div>
        </section>

        <div class="note">
            <strong>Note:</strong> Some of these features have limited browser support. The demos include fallbacks to work in most modern browsers, but the native CSS versions are even simpler and more performant where supported!
        </div>

        <div class="spacer"></div>
    </div>
</body>
</html>
